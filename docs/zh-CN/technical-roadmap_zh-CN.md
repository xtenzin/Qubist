# 技术路线 / Technical Roadmap

[English](technical-roadmap_en-US.md) | [中文](technical-roadmap_zh-CN.md)

## 项目概述

Qubist 是一个基于 Vue 3 + TypeScript 开发的 Qdrant 向量数据库 Web 管理工具，旨在提供一个比官方界面更友好的数据管理方案。

## 功能规划

### 1. 连接管理模块

#### 1.1 登录功能
- 支持配置 Qdrant 服务器地址、端口和 API KEY（可选）
- 实现连接验证机制，通过调用 Qdrant REST API 确认连接有效性
- 支持历史登录记录管理，可通过下拉选择快速填充登录参数
- 实现连接状态持久化存储

#### 1.2 连接状态管理
- 显示当前连接信息（服务器地址、端口）
- 提供断开连接功能
- 实现连接状态全局管理（使用 Pinia）

### 2. 集合管理模块

#### 2.1 集合列表展示
- 左侧边栏显示所有集合列表
- 每个集合显示名称和点数量
- 集合图标采用数据库形状，便于识别
- 支持集合选择高亮显示

#### 2.2 集合信息查看
- 集合信息对话框（i 图标）
- 基本信息标签页：展示可读的集合配置信息
- 高级信息标签页：高亮显示原始 JSON 数据
- 使用 JSON 高亮组件提升可读性

#### 2.3 集合设置功能
- 集合设置对话框（齿轮图标）
- 支持索引等配置管理
- 支持集合配置的修改和更新

#### 2.4 集合创建功能
- 新建集合对话框
- 支持集合基本配置（名称、向量维度等）
- 表单验证和错误提示

### 3. 数据操作模块

#### 3.1 数据列表展示
- 右侧主区域展示当前选中集合的数据
- 数据表格显示：
  - ID（支持复制）
  - 向量信息（支持复制，超出部分使用省略号显示）
  - Payload 信息（支持复制，超出部分使用省略号显示）
- 表格加载状态提示

#### 3.2 数据查看功能
- 点数据查看对话框
- 高亮展示点的原始 JSON 数据
- 支持 JSON 数据的展开和折叠
- 支持 JSON 数据的复制

#### 3.3 数据添加功能
- 添加点数据对话框
- 支持手动输入数据（ID、向量、Payload）
- 提供"读取最新数据"按钮，可快速填充模板数据
- 自动验证数据格式（JSON 格式、向量维度等）
- 表单验证和错误提示

#### 3.4 数据编辑功能
- 编辑点数据对话框
- 只读字段不可修改（如 ID）
- 支持修改向量和 Payload 数据
- 自动验证数据格式
- 表单验证和错误提示

#### 3.5 数据删除功能
- 删除确认对话框
- 防止误操作的确认机制
- 删除成功后自动刷新数据列表

#### 3.6 分页功能
- 支持自定义每页大小：15/30/45/75/90/100/150/200/300/500
- 默认每页 15 条
- 显示当前页、总页数、总条数
- 支持页码跳转

#### 3.7 数据刷新功能
- 手动刷新按钮
- 刷新当前集合的数据列表

### 4. 用户界面模块

#### 4.1 布局设计
- 顶部导航栏：显示 Logo、标题、连接信息、断开连接按钮
- 左侧边栏：集合列表
- 右侧主区域：数据展示和操作
- 响应式布局设计

#### 4.2 配色方案
- 参考 Qdrant 官方界面的配色
- 主色调：绿色系（#42b883）
- 提供一致的用户体验

#### 4.3 组件库
- 使用 Element Plus 组件库
- 统一的 UI 风格和交互体验

#### 4.4 多语种支持
- 支持简体中文（zh-CN）和英文（en-US）
- 自动检测浏览器语言并应用对应语言
- 用户可通过语言切换器手动切换语言
- 语言选择保存在浏览器 localStorage，下次打开自动应用
- 登录页面和主界面均支持多语种切换
- Element Plus 组件库语言同步切换
- 所有界面文本均支持多语种显示

### 5. API 集成模块

#### 5.1 Qdrant REST API 封装
- 实现 Qdrant REST API 的完整封装
- 支持所有必要的 API 端点：
  - 集合管理（列表、创建、删除、信息、设置）
  - 点数据操作（查询、添加、更新、删除）
- 类型安全的 API 调用

#### 5.2 HTTP 客户端配置
- 使用 Axios 作为 HTTP 客户端
- 实现请求拦截器（API KEY 认证）
- 实现响应拦截器（错误处理）
- 统一的错误处理机制

#### 5.3 数据类型定义
- 完整的 TypeScript 类型定义
- Qdrant 数据结构的类型映射
- 类型安全的开发体验

### 6. 状态管理模块

#### 6.1 连接状态管理
- 使用 Pinia 管理连接状态
- 存储当前连接配置
- 存储历史连接记录
- 实现状态持久化

#### 6.2 数据状态管理
- 管理当前选中的集合
- 管理集合列表数据
- 管理点数据列表
- 管理分页状态

### 7. 路由管理模块

#### 7.1 路由配置
- 登录页面路由
- 主界面（Dashboard）路由
- 路由守卫（未登录跳转到登录页）

#### 7.2 路由导航
- 支持页面切换
- 支持路由参数传递

### 8. 工具函数模块

#### 8.1 数据验证工具
- JSON 格式验证
- 向量维度验证
- 数据格式验证工具函数

#### 8.2 工具函数
- 文本复制功能
- 数据格式化工具
- 其他通用工具函数

### 9. 错误处理模块

#### 9.1 错误提示
- 统一的错误提示机制
- 用户友好的错误信息展示
- 网络错误处理

#### 9.2 异常处理
- API 调用异常处理
- 数据验证异常处理
- 全局异常捕获

## 技术栈

### 核心框架
- **Vue 3**：渐进式 JavaScript 框架
- **TypeScript**：类型安全的 JavaScript 超集
- **Vite**：快速的开发服务器和构建工具

### UI 组件库
- **Element Plus**：基于 Vue 3 的组件库

### HTTP 客户端
- **Axios**：Promise 基础的 HTTP 客户端

### 状态管理
- **Pinia**：Vue 3 官方推荐的状态管理方案

### 路由管理
- **Vue Router**：Vue.js 官方路由管理器

### 国际化
- **vue-i18n**：Vue.js 国际化插件，支持多语种切换

### 代码规范
- **ESLint**：代码检查工具
- **Prettier**：代码格式化工具

## 项目结构

```
Qubist/
├── src/                          # 源代码目录
│   ├── api/                      # API 封装
│   │   ├── qdrant.ts            # Qdrant API 封装
│   │   └── types.ts             # Qdrant 数据类型定义
│   ├── components/               # 组件目录
│   │   ├── CollectionInfoDialog.vue      # 集合信息对话框
│   │   ├── CollectionSettingsDialog.vue  # 集合设置对话框
│   │   ├── PointViewDialog.vue          # 点数据查看对话框
│   │   ├── PointFormDialog.vue          # 点数据添加/编辑对话框
│   │   └── JsonHighlighter.vue         # JSON 高亮显示组件
│   ├── views/                    # 页面视图
│   │   ├── Login.vue            # 登录页
│   │   └── Dashboard.vue        # 主界面
│   ├── stores/                   # 状态管理
│   │   ├── connection.ts        # 连接状态管理
│   │   └── locale.ts            # 语言设置状态管理
│   ├── router/                   # 路由配置
│   │   └── index.ts             # 路由定义
│   ├── i18n/                     # 国际化配置
│   │   └── index.ts             # i18n 配置文件
│   ├── locales/                  # 语言文件
│   │   ├── zh-CN/               # 简体中文语言包
│   │   │   └── index.ts
│   │   └── en-US/               # 英文语言包
│   │       └── index.ts
│   ├── components/               # 组件目录
│   │   ├── LocaleSwitcher.vue   # 语言切换器组件
│   │   └── ...                  # 其他组件
│   ├── utils/                    # 工具函数
│   │   ├── request.ts           # Axios 封装
│   │   └── validation.ts        # 数据验证工具
│   ├── App.vue                   # 根组件
│   └── main.ts                   # 入口文件
├── docs/                          # 文档目录
│   ├── zh-CN/                    # 中文文档
│   ├── en-US/                    # 英文文档
│   ├── README.md                 # 文档说明（英文）
│   └── README_zh-CN.md          # 文档说明（中文）
├── package.json                  # 项目配置
├── tsconfig.json                 # TypeScript 配置
├── vite.config.ts                # Vite 配置
├── README.md                     # 项目说明（英文）
└── README_zh-CN.md              # 项目说明（中文）
```

## 开发规范

### 代码注释
- 所有代码注释均为双语
- 中文注释在上，英文注释在下
- 注释应清晰说明代码功能和意图

### 命名规范
- 使用有意义的变量和函数名
- 遵循 Vue 3 和 TypeScript 的命名约定
- 组件名使用 PascalCase
- 函数和变量使用 camelCase

### 提交规范
- 遵循项目的 Git 提交约定
- 提交消息使用中文
- 按功能模块进行提交

## 后续扩展方向

1. **搜索功能**：支持向量相似度搜索
2. **数据统计**：集合和点的统计信息展示
